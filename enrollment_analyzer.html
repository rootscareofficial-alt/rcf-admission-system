<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Enrollment Growth Strategy System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-container { display: none; }
        .step-container.active { display: block; }
        .loader { border: 3px solid #f3f4f6; border-top: 3px solid #3b82f6; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-5xl">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h1 class="text-3xl font-bold text-blue-900 mb-2">School Enrollment Growth Strategy System</h1>
            <p class="text-gray-600 mb-8">Automated analysis and strategic planning for admission & enrollment growth</p>
            
            <!-- Progress Bar -->
            <div class="mb-8">
                <div class="flex justify-between mb-2">
                    <span id="step1-indicator" class="text-sm font-semibold text-blue-600">1. Data Input</span>
                    <span id="step2-indicator" class="text-sm text-gray-400">2. Goals</span>
                    <span id="step3-indicator" class="text-sm text-gray-400">3. Analysis</span>
                    <span id="step4-indicator" class="text-sm text-gray-400">4. Strategy</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-500" style="width: 25%"></div>
                </div>
            </div>

            <!-- Step 1: Data Input -->
            <div id="step1" class="step-container active">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Step 1: School Data Input</h2>
                <p class="text-gray-600 mb-6">Enter your school's current enrollment and admission data for analysis</p>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">School Name</label>
                        <input type="text" id="schoolName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter school name">
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Academic Year</label>
                            <input type="text" id="academicYear" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 2024-25">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">School Type</label>
                            <select id="schoolType" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="">Select type</option>
                                <option value="elementary">Elementary</option>
                                <option value="middle">Middle School</option>
                                <option value="high">High School</option>
                                <option value="k12">K-12</option>
                            </select>
                        </div>
                    </div>

                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-3">Current Enrollment Data</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Total Current Enrollment</label>
                                <input type="number" id="currentEnrollment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Enrollment Last Year</label>
                                <input type="number" id="lastYearEnrollment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 480">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">New Admissions This Year</label>
                                <input type="number" id="newAdmissions" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 120">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Student Attrition Rate (%)</label>
                                <input type="number" id="attritionRate" step="0.1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 8.5">
                            </div>
                        </div>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-3">Admission Funnel Data</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Total Inquiries</label>
                                <input type="number" id="inquiries" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 450">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Campus Visits/Tours</label>
                                <input type="number" id="visits" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 280">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Applications Received</label>
                                <input type="number" id="applications" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 200">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Offers Made</label>
                                <input type="number" id="offers" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 150">
                            </div>
                        </div>
                    </div>

                    <div class="bg-purple-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-3">Marketing & Outreach</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Marketing Budget (‚Çπ)</label>
                                <input type="number" id="marketingBudget" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 500000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Primary Lead Source</label>
                                <select id="leadSource" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="referrals">Word of Mouth/Referrals</option>
                                    <option value="digital">Digital Marketing</option>
                                    <option value="events">Community Events</option>
                                    <option value="walkins">Walk-ins</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex gap-4 mt-6">
                    <button onclick="window.location.reload()" class="flex-1 bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-300 transition duration-300">
                        ‚Üª Reset Form
                    </button>
                    <button onclick="goToStep2()" class="flex-1 bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300">
                        Continue to Goals ‚Üí
                    </button>
                </div>
            </div>

            <!-- Step 2: Goals -->
            <div id="step2" class="step-container">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Step 2: Enrollment Goals</h2>
                <p class="text-gray-600 mb-6">Define your enrollment targets for the upcoming academic year</p>
                
                <div class="space-y-4">
                    <div class="bg-yellow-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-3">Target Enrollment</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Target Total Enrollment</label>
                                <input type="number" id="targetEnrollment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 600">
                                <p class="text-xs text-gray-500 mt-1">Total students you want enrolled</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Target New Admissions</label>
                                <input type="number" id="targetAdmissions" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 180">
                                <p class="text-xs text-gray-500 mt-1">New students to admit</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-indigo-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-3">Timeline & Priorities</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Target Achievement Timeline</label>
                                <select id="timeline" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="4months" selected>4 months (Intensive - Recommended)</option>
                                    <option value="6months">6 months</option>
                                    <option value="1year">1 year</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-1">4-month timeline is optimized for rapid admission growth</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Primary Focus Area</label>
                                <select id="focusArea" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="newadmissions">Increase New Admissions</option>
                                    <option value="retention">Improve Student Retention</option>
                                    <option value="both">Both Equally</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Plan Detail Level</label>
                                <select id="planDetail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="standard">Standard Plan (Monthly milestones)</option>
                                    <option value="detailed">Detailed Plan (Week-by-week actionables)</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-1">Detailed plan provides week-by-week tasks and specific action items</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Available Budget Increase (%)</label>
                                <input type="number" id="budgetIncrease" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., 20" value="0">
                                <p class="text-xs text-gray-500 mt-1">Additional % budget for marketing/outreach</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-teal-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-gray-800 mb-3">Additional Context (Optional)</h3>
                        <textarea id="additionalContext" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Any specific challenges, competitive factors, or additional information..."></textarea>
                    </div>
                </div>

                <div class="flex gap-4 mt-6">
                    <button onclick="goToStep1()" class="flex-1 bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-300 transition duration-300">
                        ‚Üê Back
                    </button>
                    <button onclick="generateStrategy()" class="flex-1 bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300">
                        Generate Strategy ‚Üí
                    </button>
                </div>
            </div>

            <!-- Step 3: Analysis (Loading) -->
            <div id="step3" class="step-container">
                <div class="text-center py-12">
                    <div class="loader mx-auto mb-4"></div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Analyzing Your Data...</h2>
                    <p class="text-gray-600">AI is processing your school data and generating strategic recommendations</p>
                    <div id="analysisProgress" class="mt-6 text-sm text-gray-500"></div>
                    <button onclick="goToStep2()" class="mt-8 bg-gray-200 text-gray-700 font-semibold py-2 px-6 rounded-lg hover:bg-gray-300 transition duration-300">
                        ‚Üê Back to Goals
                    </button>
                </div>
            </div>

            <!-- Step 4: Strategy Output -->
            <div id="step4" class="step-container">
                <div class="mb-6 flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">Your Customized Growth Strategy</h2>
                    <button onclick="downloadStrategy()" class="bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300 text-sm">
                        Download Report
                    </button>
                </div>
                <div id="strategyOutput" class="space-y-6"></div>
                <div class="flex gap-4 mt-8">
                    <button onclick="goToStep2()" class="flex-1 bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-600 transition duration-300">
                        ‚Üê Edit Goals
                    </button>
                    <button onclick="goToStep1()" class="flex-1 bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-600 transition duration-300">
                        ‚Üê Edit Data
                    </button>
                    <button onclick="resetSystem()" class="flex-1 bg-gray-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-700 transition duration-300">
                        üîÑ Start New Analysis
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let schoolData = {};
        let goalsData = {};

        function updateProgress(step) {
            const indicators = ['step1-indicator', 'step2-indicator', 'step3-indicator', 'step4-indicator'];
            const progressBar = document.getElementById('progress-bar');
            
            indicators.forEach((id, index) => {
                const element = document.getElementById(id);
                if (index < step) {
                    element.classList.remove('text-gray-400');
                    element.classList.add('text-blue-600');
                } else {
                    element.classList.remove('text-blue-600');
                    element.classList.add('text-gray-400');
                }
            });
            
            progressBar.style.width = (step * 25) + '%';
        }

        function goToStep1() {
            // Restore data if it exists
            if (Object.keys(schoolData).length > 0) {
                document.getElementById('schoolName').value = schoolData.schoolName || '';
                document.getElementById('academicYear').value = schoolData.academicYear || '';
                document.getElementById('schoolType').value = schoolData.schoolType || '';
                document.getElementById('currentEnrollment').value = schoolData.currentEnrollment || '';
                document.getElementById('lastYearEnrollment').value = schoolData.lastYearEnrollment || '';
                document.getElementById('newAdmissions').value = schoolData.newAdmissions || '';
                document.getElementById('attritionRate').value = schoolData.attritionRate || '';
                document.getElementById('inquiries').value = schoolData.inquiries || '';
                document.getElementById('visits').value = schoolData.visits || '';
                document.getElementById('applications').value = schoolData.applications || '';
                document.getElementById('offers').value = schoolData.offers || '';
                document.getElementById('marketingBudget').value = schoolData.marketingBudget || '';
                document.getElementById('leadSource').value = schoolData.leadSource || '';
            }
            
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById('step1').classList.add('active');
            updateProgress(1);
        }

        function goToStep2() {
            // Collect data from step 1 only if we're coming from step 1
            if (document.getElementById('step1').classList.contains('active')) {
                schoolData = {
                    schoolName: document.getElementById('schoolName').value,
                    academicYear: document.getElementById('academicYear').value,
                    schoolType: document.getElementById('schoolType').value,
                    currentEnrollment: parseInt(document.getElementById('currentEnrollment').value) || 0,
                    lastYearEnrollment: parseInt(document.getElementById('lastYearEnrollment').value) || 0,
                    newAdmissions: parseInt(document.getElementById('newAdmissions').value) || 0,
                    attritionRate: parseFloat(document.getElementById('attritionRate').value) || 0,
                    inquiries: parseInt(document.getElementById('inquiries').value) || 0,
                    visits: parseInt(document.getElementById('visits').value) || 0,
                    applications: parseInt(document.getElementById('applications').value) || 0,
                    offers: parseInt(document.getElementById('offers').value) || 0,
                    marketingBudget: parseInt(document.getElementById('marketingBudget').value) || 0,
                    leadSource: document.getElementById('leadSource').value
                };

                // Validate required fields
                if (!schoolData.schoolName || !schoolData.currentEnrollment) {
                    alert('Please fill in at least School Name and Current Enrollment');
                    return;
                }
            }
            
            // Restore goals data if it exists
            if (Object.keys(goalsData).length > 0) {
                document.getElementById('targetEnrollment').value = goalsData.targetEnrollment || '';
                document.getElementById('targetAdmissions').value = goalsData.targetAdmissions || '';
                document.getElementById('timeline').value = goalsData.timeline || '4months';
                document.getElementById('focusArea').value = goalsData.focusArea || 'newadmissions';
                document.getElementById('planDetail').value = goalsData.planDetail || 'standard';
                document.getElementById('budgetIncrease').value = goalsData.budgetIncrease || 0;
                document.getElementById('additionalContext').value = goalsData.additionalContext || '';
            }

            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById('step2').classList.add('active');
            updateProgress(2);
        }

        async function generateStrategy() {
            // Collect goals data
            goalsData = {
                targetEnrollment: parseInt(document.getElementById('targetEnrollment').value) || 0,
                targetAdmissions: parseInt(document.getElementById('targetAdmissions').value) || 0,
                timeline: document.getElementById('timeline').value,
                focusArea: document.getElementById('focusArea').value,
                planDetail: document.getElementById('planDetail').value,
                budgetIncrease: parseInt(document.getElementById('budgetIncrease').value) || 0,
                additionalContext: document.getElementById('additionalContext').value
            };

            if (!goalsData.targetEnrollment) {
                alert('Please enter target enrollment');
                return;
            }

            // Show loading step
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById('step3').classList.add('active');
            updateProgress(3);

            // Simulate analysis progress
            const progressMessages = [
                'Analyzing current enrollment trends...',
                'Evaluating admission funnel performance...',
                'Calculating conversion rates...',
                'Identifying growth opportunities...',
                'Generating strategic recommendations...'
            ];

            for (let i = 0; i < progressMessages.length; i++) {
                document.getElementById('analysisProgress').textContent = progressMessages[i];
                await new Promise(resolve => setTimeout(resolve, 800));
            }

            // Generate strategy using Claude API
            await callClaudeAPI();
        }

        async function callClaudeAPI() {
            const prompt = `You are an expert education consultant specializing in school enrollment growth strategies. Analyze the following school data and goals, then provide a comprehensive, actionable strategic plan.

CRITICAL CONTEXT: This is a ${goalsData.timeline} INTENSIVE PROGRAM designed to achieve admission targets rapidly. The plan must be aggressive, time-bound, and action-oriented with clear weekly/daily execution steps.

SCHOOL DATA:
${JSON.stringify(schoolData, null, 2)}

GOALS:
${JSON.stringify(goalsData, null, 2)}

PLAN DETAIL LEVEL: ${goalsData.planDetail === 'detailed' ? 'DETAILED (Week-by-week actionables required)' : 'STANDARD (Monthly milestones)'}

Please provide a detailed analysis and strategy that includes:

1. CURRENT STATE ANALYSIS
   - Key metrics summary
   - Enrollment growth rate
   - Admission funnel conversion rates
   - Critical gaps and immediate opportunities

2. GAP ANALYSIS & FEASIBILITY
   - Gap between current and target enrollment
   - Required new admissions vs historical performance
   - Realistic achievement assessment for ${goalsData.timeline} timeline
   - Critical success factors

3. STRATEGIC RECOMMENDATIONS (prioritized for speed)
   - Specific, actionable strategies numbered and prioritized by urgency
   - For each strategy include: description, expected impact, quick-win potential, timeline, and resources needed
   - Focus on high-impact, fast-execution tactics

4. INTENSIVE MARKETING & OUTREACH PLAN
   - Rapid lead generation tactics
   - Recommended channels prioritized by speed-to-results
   - Budget allocation for maximum ROI
   - Daily/weekly lead generation targets
   - Emergency tactics if targets are missed

5. CONVERSION ACCELERATION PLAN
   - Speed up inquiry-to-admission cycle
   - Fast-track admission processes
   - Immediate follow-up protocols
   - Visit-to-enrollment conversion boosters

6. ${goalsData.planDetail === 'detailed' ? 'WEEK-BY-WEEK IMPLEMENTATION ROADMAP (16 weeks)' : 'MONTH-BY-MONTH IMPLEMENTATION ROADMAP (4 months)'}
   ${goalsData.planDetail === 'detailed' ? 
   `- Provide DETAILED week-by-week breakdown for all 16 weeks
   - Each week should include:
     * Specific tasks and action items with owners
     * Daily activities where applicable
     * Target metrics for the week
     * Deliverables and checkpoints
     * Key decisions to be made
   - Format: Week 1, Week 2, etc. with clear subsections` 
   : 
   `- Monthly milestones with key activities
   - Weekly target breakdown within each month
   - Key performance indicators (KPIs)
   - Success metrics and checkpoints`}

7. RISK FACTORS & CONTINGENCY PLANS
   - What if targets are missed at Week 4, 8, 12?
   - Backup strategies and escalation plans
   - Resource constraints and mitigation

8. TEAM STRUCTURE & RESPONSIBILITIES
   - Who needs to do what
   - Daily/weekly routines for admission team
   - Accountability framework

Format your response in clear HTML with appropriate headings, lists, and emphasis. Use professional styling with color-coded sections. Be extremely specific with numbers, percentages, and timelines. This is a time-sensitive, aggressive growth plan - reflect that urgency in your recommendations.`;

            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 4000,
                        messages: [
                            { role: "user", content: prompt }
                        ],
                    })
                });

                const data = await response.json();
                const strategyContent = data.content[0].text;

                // Display strategy
                displayStrategy(strategyContent);
            } catch (error) {
                console.error('Error calling Claude API:', error);
                displayStrategy(generateFallbackStrategy());
            }
        }

        function displayStrategy(content) {
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById('step4').classList.add('active');
            updateProgress(4);

            const outputDiv = document.getElementById('strategyOutput');
            outputDiv.innerHTML = `
                <div class="bg-blue-50 border-l-4 border-blue-600 p-4 mb-6">
                    <h3 class="font-bold text-lg text-blue-900">Strategic Plan for ${schoolData.schoolName}</h3>
                    <p class="text-sm text-blue-800">Academic Year: ${schoolData.academicYear} | Generated: ${new Date().toLocaleDateString()}</p>
                </div>
                <div class="prose max-w-none">${content}</div>
            `;
        }

        function generateFallbackStrategy() {
            const enrollmentGap = goalsData.targetEnrollment - schoolData.currentEnrollment;
            const growthRate = ((schoolData.currentEnrollment - schoolData.lastYearEnrollment) / schoolData.lastYearEnrollment * 100).toFixed(1);
            const inquiryToAdmission = ((schoolData.newAdmissions / schoolData.inquiries) * 100).toFixed(1);
            const visitToApp = ((schoolData.applications / schoolData.visits) * 100).toFixed(1);
            const offerToEnroll = ((schoolData.newAdmissions / schoolData.offers) * 100).toFixed(1);
            const isDetailed = goalsData.planDetail === 'detailed';
            const timelineText = goalsData.timeline === '4months' ? '4 months (16 weeks)' : goalsData.timeline === '6months' ? '6 months' : '12 months';
            const weeksTotal = goalsData.timeline === '4months' ? 16 : goalsData.timeline === '6months' ? 24 : 52;
            const admissionsPerWeek = Math.ceil(goalsData.targetAdmissions / weeksTotal);

            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-red-50 to-orange-50 p-6 rounded-lg border-2 border-orange-300">
                        <h2 class="text-2xl font-bold text-orange-900 mb-2">‚ö° INTENSIVE ${timelineText.toUpperCase()} ADMISSION ACCELERATION PROGRAM</h2>
                        <p class="text-gray-700 font-semibold">Launch Date: ${new Date().toLocaleDateString()} | Deadline: ${new Date(Date.now() + (weeksTotal * 7 * 24 * 60 * 60 * 1000)).toLocaleDateString()}</p>
                        <div class="mt-3 p-3 bg-white rounded-lg">
                            <p class="text-lg font-bold text-red-700">TARGET: ${goalsData.targetAdmissions} New Admissions in ${timelineText}</p>
                            <p class="text-md text-gray-700">Required Rate: <strong>${admissionsPerWeek} admissions/week</strong> or <strong>${Math.ceil(admissionsPerWeek/7)} admissions/day</strong></p>
                        </div>
                    </div>

                    <section class="bg-white p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">1. Current State Analysis</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-blue-50 p-4 rounded">
                                <p class="text-sm text-gray-600">Current Enrollment</p>
                                <p class="text-2xl font-bold text-blue-900">${schoolData.currentEnrollment}</p>
                            </div>
                            <div class="bg-green-50 p-4 rounded">
                                <p class="text-sm text-gray-600">YoY Growth Rate</p>
                                <p class="text-2xl font-bold text-green-900">${growthRate}%</p>
                            </div>
                            <div class="bg-purple-50 p-4 rounded">
                                <p class="text-sm text-gray-600">Inquiry ‚Üí Admission</p>
                                <p class="text-2xl font-bold text-purple-900">${inquiryToAdmission}%</p>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded">
                                <p class="text-sm text-gray-600">Attrition Rate</p>
                                <p class="text-2xl font-bold text-yellow-900">${schoolData.attritionRate}%</p>
                            </div>
                        </div>
                        <div class="mt-4">
                            <h3 class="font-semibold text-gray-800 mb-2">Conversion Funnel Analysis:</h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>Inquiries to Visits: ${((schoolData.visits/schoolData.inquiries)*100).toFixed(1)}%</li>
                                <li>Visits to Applications: ${visitToApp}%</li>
                                <li>Applications to Offers: ${((schoolData.offers/schoolData.applications)*100).toFixed(1)}%</li>
                                <li>Offers to Enrollment: ${offerToEnroll}%</li>
                            </ul>
                        </div>
                    </section>

                    <section class="bg-white p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">2. Gap Analysis & Urgency Assessment</h2>
                        <div class="bg-red-50 p-4 rounded-lg mb-4 border-2 border-red-300">
                            <p class="font-semibold text-gray-800">Enrollment Gap: <span class="text-red-700 text-2xl">${enrollmentGap} students</span></p>
                            <p class="text-sm text-gray-600 mt-2">Required Growth: ${((enrollmentGap/schoolData.currentEnrollment)*100).toFixed(1)}% in just ${timelineText}</p>
                            <p class="text-sm font-semibold text-red-700 mt-2">‚ö†Ô∏è This requires ${admissionsPerWeek}x your current weekly admission rate!</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h3 class="font-semibold text-gray-800 mb-2">Required Lead Volume:</h3>
                            <ul class="list-disc list-inside text-gray-700">
                                <li>Based on current ${inquiryToAdmission}% conversion: Need <strong>${Math.ceil(goalsData.targetAdmissions / (inquiryToAdmission/100))} total inquiries</strong></li>
                                <li>That's <strong>${Math.ceil((goalsData.targetAdmissions / (inquiryToAdmission/100)) / weeksTotal)} inquiries per week</strong></li>
                                <li>Current inquiry rate: ${Math.round(schoolData.inquiries/52)} per week - needs <strong>${(((goalsData.targetAdmissions / (inquiryToAdmission/100)) / weeksTotal) / (schoolData.inquiries/52)).toFixed(1)}x increase</strong></li>
                            </ul>
                        </div>
                    </section>

                    <section class="bg-white p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">3. RAPID EXECUTION STRATEGIES (Prioritized)</h2>
                        <div class="space-y-4">
                            <div class="border-l-4 border-red-500 pl-4 bg-red-50 p-3">
                                <h3 class="font-semibold text-gray-800 text-lg">üö® PRIORITY 1: EMERGENCY LEAD GENERATION BLITZ</h3>
                                <p class="text-gray-700 mt-2 font-semibold">DAYS 1-7: Immediate Actions</p>
                                <ul class="list-disc list-inside text-gray-700 mt-2 ml-4 space-y-1">
                                    <li><strong>Day 1:</strong> Launch paid Facebook/Instagram ads (‚Çπ${Math.round(schoolData.marketingBudget * 0.4 / 4)}/month budget)</li>
                                    <li><strong>Day 1:</strong> Start Google Ads campaign targeting local searches</li>
                                    <li><strong>Day 2-3:</strong> Call ALL previous inquiries from last 12 months</li>
                                    <li><strong>Day 3:</strong> Send SMS campaign to all past inquiry database</li>
                                    <li><strong>Day 4-7:</strong> Host emergency "Open House Weekend"</li>
                                    <li><strong>Day 5:</strong> Launch referral program with ‚Çπ5,000 incentive</li>
                                    <li><strong>Week 1 Target:</strong> Generate 50+ new inquiries</li>
                                </ul>
                                <p class="text-sm text-red-700 mt-2 font-semibold">Expected Impact: 60-80 inquiries in Week 1 | 15-25 admissions</p>
                            </div>

                            <div class="border-l-4 border-orange-500 pl-4 bg-orange-50 p-3">
                                <h3 class="font-semibold text-gray-800 text-lg">üî• PRIORITY 2: CONVERSION SPEED OPTIMIZATION</h3>
                                <p class="text-gray-700 mt-2">Compress admission timeline from inquiry to enrollment</p>
                                <ul class="list-disc list-inside text-gray-700 mt-2 ml-4 space-y-1">
                                    <li><strong>Implement:</strong> 30-minute response time SLA for all inquiries</li>
                                    <li><strong>Create:</strong> Same-day campus visit scheduling</li>
                                    <li><strong>Launch:</strong> Instant online application portal</li>
                                    <li><strong>Offer:</strong> 24-hour admission decision turnaround</li>
                                    <li><strong>Provide:</strong> On-spot admission for walk-ins (if qualified)</li>
                                    <li><strong>Deploy:</strong> WhatsApp chatbot for instant query response</li>
                                </ul>
                                <p class="text-sm text-orange-700 mt-2 font-semibold">Expected Impact: Increase conversion from ${inquiryToAdmission}% to 35%+</p>
                            </div>

                            <div class="border-l-4 border-yellow-500 pl-4 bg-yellow-50 p-3">
                                <h3 class="font-semibold text-gray-800 text-lg">‚ö° PRIORITY 3: COMMUNITY ACTIVATION BLITZ</h3>
                                <ul class="list-disc list-inside text-gray-700 mt-2 ml-4 space-y-1">
                                    <li><strong>Week 1:</strong> Parent referral campaign - ‚Çπ5,000 per successful referral</li>
                                    <li><strong>Week 2:</strong> Alumni network activation</li>
                                    <li><strong>Week 2-3:</strong> Partnership with 5 local preschools/coaching centers</li>
                                    <li><strong>Week 3-4:</strong> Community events in 3 nearby localities</li>
                                    <li><strong>Ongoing:</strong> Daily social media engagement (2-3 posts/day)</li>
                                </ul>
                                <p class="text-sm text-yellow-700 mt-2 font-semibold">Expected Impact: 25-35 referral admissions over ${timelineText}</p>
                            </div>

                            <div class="border-l-4 border-green-500 pl-4 bg-green-50 p-3">
                                <h3 class="font-semibold text-gray-800 text-lg">üíö PRIORITY 4: COMPETITIVE ADVANTAGE CAMPAIGN</h3>
                                <ul class="list-disc list-inside text-gray-700 mt-2 ml-4 space-y-1">
                                    <li><strong>Limited time:</strong> Early bird discount (10-15% off first term)</li>
                                    <li><strong>Bonus:</strong> Free uniform + books for first 50 admissions</li>
                                    <li><strong>Waive:</strong> Registration fee for applications in first 2 weeks</li>
                                    <li><strong>Offer:</strong> Sibling discount (20% for 2nd child)</li>
                                    <li><strong>Guarantee:</strong> "Satisfaction guarantee - transfer fee waived if not satisfied"</li>
                                </ul>
                                <p class="text-sm text-green-700 mt-2 font-semibold">Expected Impact: 20-30% boost in conversion rate</p>
                            </div>
                        </div>
                    </section>

                    <section class="bg-white p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">4. Marketing Budget Allocation (${timelineText})</h2>
                        <p class="text-gray-700 mb-4">Total Budget: ‚Çπ${(schoolData.marketingBudget * (1 + goalsData.budgetIncrease/100)).toLocaleString()} (${goalsData.budgetIncrease}% increase)</p>
                        <div class="space-y-2">
                            <div class="flex justify-between items-center p-3 bg-red-50 rounded border-l-4 border-red-500">
                                <span class="text-gray-700 font-semibold">Facebook/Instagram Ads (Urgent)</span>
                                <span class="font-bold text-red-700">40% - ‚Çπ${Math.round(schoolData.marketingBudget * 0.4 * (1 + goalsData.budgetIncrease/100)).toLocaleString()}</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-orange-50 rounded border-l-4 border-orange-500">
                                <span class="text-gray-700 font-semibold">Google Ads (Local Search)</span>
                                <span class="font-bold text-orange-700">25% - ‚Çπ${Math.round(schoolData.marketingBudget * 0.25 * (1 + goalsData.budgetIncrease/100)).toLocaleString()}</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-yellow-50 rounded border-l-4 border-yellow-500">
                                <span class="text-gray-700 font-semibold">Referral Incentives</span>
                                <span class="font-bold text-yellow-700">15% - ‚Çπ${Math.round(schoolData.marketingBudget * 0.15 * (1 + goalsData.budgetIncrease/100)).toLocaleString()}</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-green-50 rounded border-l-4 border-green-500">
                                <span class="text-gray-700 font-semibold">Community Events & Promotions</span>
                                <span class="font-bold text-green-700">15% - ‚Çπ${Math.round(schoolData.marketingBudget * 0.15 * (1 + goalsData.budgetIncrease/100)).toLocaleString()}</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-blue-50 rounded border-l-4 border-blue-500">
                                <span class="text-gray-700">Discounts & Waivers</span>
                                <span class="font-bold text-blue-700">5% - ‚Çπ${Math.round(schoolData.marketingBudget * 0.05 * (1 + goalsData.budgetIncrease/100)).toLocaleString()}</span>
                            </div>
                        </div>
                    </section>

                    ${isDetailed ? generateWeekByWeekPlan(weeksTotal, admissionsPerWeek, schoolData, goalsData) : generateMonthlyPlan(goalsData.timeline, admissionsPerWeek, schoolData)}

                    <section class="bg-white p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">DAILY TEAM ROUTINE & ACCOUNTABILITY</h2>
                        <div class="space-y-4">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-gray-800 mb-2">üìû Admission Team Daily Tasks:</h3>
                                <ul class="list-disc list-inside text-gray-700 space-y-1">
                                    <li><strong>9:00 AM:</strong> Team huddle - review yesterday's conversions, today's targets</li>
                                    <li><strong>9:30 AM - 12:00 PM:</strong> Outbound calls to warm leads (target: 30 calls/person)</li>
                                    <li><strong>12:00 PM - 2:00 PM:</strong> Campus tours (2-3 scheduled visits)</li>
                                    <li><strong>2:00 PM - 5:00 PM:</strong> Follow-ups, applications processing, visit scheduling</li>
                                    <li><strong>5:00 PM:</strong> Update CRM, prepare tomorrow's call list</li>
                                    <li><strong>5:30 PM:</strong> End-of-day metrics review with principal</li>
                                </ul>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h3 class="font-semibold text-gray-800 mb-2">üìä Daily Tracking Metrics:</h3>
                                <ul class="list-disc list-inside text-gray-700 space-y-1">
                                    <li>New inquiries received: Target ${Math.ceil((goalsData.targetAdmissions / (inquiryToAdmission/100)) / weeksTotal / 7)}/day</li>
                                    <li>Calls made: Target 30/person/day</li>
                                    <li>Campus visits conducted: Target 3-5/day</li>
                                    <li>Applications received: Target ${Math.ceil(admissionsPerWeek / 5)}/day</li>
                                    <li>Admissions closed: Target ${Math.ceil(admissionsPerWeek / 7)}/day</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section class="bg-white p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800 mb-4">CONTINGENCY PLANS & RED FLAGS</h2>
                        <div class="space-y-3">
                            <div class="border-l-4 border-red-500 pl-4 py-2 bg-red-50">
                                <h4 class="font-semibold text-red-800">üö® If behind target by Week 4:</h4>
                                <ul class="text-sm text-gray-700 mt-1 list-disc list-inside ml-2">
                                    <li>Double digital ad budget immediately</li>
                                    <li>Increase referral incentive to ‚Çπ8,000</li>
                                    <li>Launch emergency weekend admission camp</li>
                                    <li>Extend early bird offer by 2 weeks</li>
                                </ul>
                            </div>
                            <div class="border-l-4 border-orange-500 pl-4 py-2 bg-orange-50">
                                <h4 class="font-semibold text-orange-800">‚ö†Ô∏è If behind target by Week 8:</h4>
                                <ul class="text-sm text-gray-700 mt-1 list-disc list-inside ml-2">
                                    <li>Hire 2 additional admission counselors</li>
                                    <li>Launch aggressive outdoor advertising</li>
                                    <li>Partner with education consultants</li>
                                    <li>Consider extending timeline with revised targets</li>
                                </ul>
                            </div>
                            <div class="border-l-4 border-yellow-500 pl-4 py-2 bg-yellow-50">
                                <h4 class="font-semibold text-yellow-800">üìä Weekly Red Flags to Watch:</h4>
                                <ul class="text-sm text-gray-700 mt-1 list-disc list-inside ml-2">
                                    <li>Inquiry volume drops below ${Math.ceil((goalsData.targetAdmissions / (inquiryToAdmission/100)) / weeksTotal)} per week</li>
                                    <li>Conversion rate falls below ${(inquiryToAdmission * 0.8).toFixed(1)}%</li>
                                    <li>Campus visit no-show rate exceeds 30%</li>
                                    <li>Weekly admissions below ${Math.floor(admissionsPerWeek * 0.7)}</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section class="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg border-2 border-green-300">
                        <h2 class="text-xl font-bold text-gray-800 mb-3">‚úÖ SUCCESS PROJECTION</h2>
                        <p class="text-lg text-gray-700 mb-3">With aggressive execution of this ${timelineText} intensive program:</p>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div class="bg-white p-4 rounded-lg shadow">
                                <p class="text-sm text-gray-600">Expected Enrollment</p>
                                <p class="text-2xl font-bold text-green-700">${Math.round(goalsData.targetEnrollment * 0.85)}-${goalsData.targetEnrollment}</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow">
                                <p class="text-sm text-gray-600">New Admissions</p>
                                <p class="text-2xl font-bold text-blue-700">${Math.round(goalsData.targetAdmissions * 0.8)}-${goalsData.targetAdmissions}</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow">
                                <p class="text-sm text-gray-600">Total Inquiries</p>
                                <p class="text-2xl font-bold text-purple-700">${Math.ceil(goalsData.targetAdmissions / (inquiryToAdmission/100))}</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow">
                                <p class="text-sm text-gray-600">Conversion Rate</p>
                                <p class="text-2xl font-bold text-orange-700">30-35%</p>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600 italic">‚ö†Ô∏è Success depends on: Daily execution discipline, team commitment, budget availability, and market responsiveness</p>
                    </section>
                </div>
            `;
        }

        function downloadStrategy() {
            const strategyHTML = document.getElementById('strategyOutput').innerHTML;
            const fullHTML = `
<!DOCTYPE html>
<html>
<head>
    <title>Enrollment Growth Strategy - ${schoolData.schoolName}</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; }
        h2 { color: #1e40af; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; }
        h3 { color: #374151; }
        .metric-box { background: #f3f4f6; padding: 15px; margin: 10px 0; border-radius: 8px; }
        section { margin-bottom: 30px; page-break-inside: avoid; }
    </style>
</head>
<body>
    <h1>Enrollment Growth Strategy Report</h1>
    <p><strong>School:</strong> ${schoolData.schoolName} | <strong>Generated:</strong> ${new Date().toLocaleDateString()}</p>
    ${strategyHTML}
</body>
</html>
            `;
            
            const blob = new Blob([fullHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `enrollment-strategy-${schoolData.schoolName.replace(/\s+/g, '-')}.html`;
            a.click();
        }

        function resetSystem() {
            schoolData = {};
            goalsData = {};
            document.getElementById('step1').querySelectorAll('input, select, textarea').forEach(el => el.value = '');
            document.getElementById('step2').querySelectorAll('input, select, textarea').forEach(el => el.value = '');
            goToStep1();
        }

        function generateWeekByWeekPlan(weeksTotal, admissionsPerWeek, schoolData, goalsData) {
            const weeksToShow = Math.min(weeksTotal, 16); // Show up to 16 weeks
            let html = `
                <section class="bg-white p-6 rounded-lg border border-gray-200">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">üìÖ WEEK-BY-WEEK IMPLEMENTATION ROADMAP</h2>
                    <p class="text-gray-600 mb-4">Detailed weekly action plan for ${weeksToShow} weeks with specific tasks and targets</p>
                    <div class="space-y-4">
            `;

            const weeklyTargets = [
                { inquiries: Math.ceil(admissionsPerWeek * 3.5), visits: Math.ceil(admissionsPerWeek * 2), apps: Math.ceil(admissionsPerWeek * 1.5), admits: admissionsPerWeek },
            ];

            for (let week = 1; week <= weeksToShow; week++) {
                const phase = week <= 4 ? 'Launch Phase' : week <= 8 ? 'Acceleration Phase' : week <= 12 ? 'Optimization Phase' : 'Final Push';
                const color = week <= 4 ? 'red' : week <= 8 ? 'orange' : week <= 12 ? 'yellow' : 'green';
                
                html += `
                    <div class="border-l-4 border-${color}-500 pl-4 bg-${color}-50 p-4 rounded-r-lg">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-lg text-gray-800">Week ${week}: ${getWeekTitle(week)}</h3>
                            <span class="text-xs bg-${color}-200 px-2 py-1 rounded">${phase}</span>
                        </div>
                        <div class="grid grid-cols-4 gap-2 mb-3 text-xs">
                            <div class="bg-white p-2 rounded">
                                <p class="text-gray-600">Inquiries</p>
                                <p class="font-bold">${Math.ceil(admissionsPerWeek * 3.5)}</p>
                            </div>
                            <div class="bg-white p-2 rounded">
                                <p class="text-gray-600">Visits</p>
                                <p class="font-bold">${Math.ceil(admissionsPerWeek * 2)}</p>
                            </div>
                            <div class="bg-white p-2 rounded">
                                <p class="text-gray-600">Applications</p>
                                <p class="font-bold">${Math.ceil(admissionsPerWeek * 1.5)}</p>
                            </div>
                            <div class="bg-white p-2 rounded">
                                <p class="text-gray-600">Admissions</p>
                                <p class="font-bold text-green-700">${admissionsPerWeek}</p>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <p class="font-semibold text-gray-800">Key Activities:</p>
                            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                                ${getWeeklyActivities(week).map(activity => `<li>${activity}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }

            html += `
                    </div>
                </section>
            `;
            return html;
        }

        function generateMonthlyPlan(timeline, admissionsPerWeek, schoolData) {
            const months = timeline === '4months' ? 4 : timeline === '6months' ? 6 : 12;
            let html = `
                <section class="bg-white p-6 rounded-lg border border-gray-200">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">üìÖ MONTH-BY-MONTH IMPLEMENTATION ROADMAP</h2>
                    <div class="space-y-3">
            `;

            for (let month = 1; month <= months; month++) {
                const color = month === 1 ? 'red' : month === 2 ? 'orange' : month === 3 ? 'yellow' : 'green';
                const weeklyTarget = admissionsPerWeek;
                const monthlyTarget = weeklyTarget * 4;

                html += `
                    <div class="border-l-4 border-${color}-500 pl-4 py-3 bg-${color}-50 rounded-r-lg">
                        <h4 class="font-semibold text-lg text-gray-800">Month ${month}: ${getMonthTitle(month)}</h4>
                        <p class="text-sm text-gray-700 mt-1">Target: ${monthlyTarget} admissions (${weeklyTarget}/week)</p>
                        <p class="text-sm text-gray-600 mt-2">${getMonthlyDescription(month)}</p>
                    </div>
                `;
            }

            html += `
                    </div>
                </section>
            `;
            return html;
        }

        function getWeekTitle(week) {
            const titles = {
                1: 'Emergency Launch & Database Activation',
                2: 'Digital Blitz & Referral Kickoff',
                3: 'First Open House & Community Events',
                4: 'Review & Optimize - First Month Check',
                5: 'Scale What Works',
                6: 'Partnership Activation',
                7: 'Mid-Campaign Push',
                8: 'Second Month Review & Adjust',
                9: 'Advanced Targeting',
                10: 'Retention Focus Begins',
                11: 'Competitive Advantage Push',
                12: 'Third Month Review',
                13: 'Final Push Begins',
                14: 'All Channels Maximized',
                15: 'Last Call Campaigns',
                16: 'Final Week - Close Strong'
            };
            return titles[week] || `Week ${week} Activities`;
        }

        function getWeeklyActivities(week) {
            const activities = {
                1: [
                    'Launch Facebook/Instagram ads (‚Çπ40K budget)',
                    'Start Google Ads for local searches',
                    'Call all leads from past 12 months',
                    'Send SMS to entire inquiry database',
                    'Set up WhatsApp chatbot',
                    'Train team on 30-min response protocol'
                ],
                2: [
                    'Launch referral program with ‚Çπ5K incentive',
                    'First parent email campaign',
                    'Schedule 15+ campus visits',
                    'Optimize ad targeting based on Week 1 data',
                    'Create parent testimonial video',
                    'Post 3x daily on social media'
                ],
                3: [
                    'Host major Open House Weekend event',
                    'Launch community event series',
                    'Partner outreach to 5 preschools',
                    'Alumni network activation email',
                    'Introduce early bird discount (10% off)',
                    'Process and close Week 1-2 warm leads'
                ],
                4: [
                    'Review Month 1 results vs targets',
                    'Adjust budget allocation based on ROI',
                    'Identify and fix conversion bottlenecks',
                    'Scale best-performing ad campaigns',
                    'Plan Month 2 calendar',
                    'Team performance review and coaching'
                ],
                5: [
                    'Double down on highest-ROI channels',
                    'Launch retargeting campaigns',
                    'Second Open House',
                    'Introduce sibling discount',
                    'Start alumni referral outreach',
                    'Expand Google Ads to nearby areas'
                ],
                6: [
                    'Activate preschool partnerships',
                    'Launch coaching center collaborations',
                    'Community event #2',
                    'Parent webinar series begins',
                    'Expand social media to YouTube shorts',
                    'Local newspaper feature article'
                ],
                7: [
                    'Mid-campaign aggressive push',
                    'Waive registration fees promo',
                    'Third Open House',
                    'Re-engage all unconverted leads',
                    'Launch student ambassador program',
                    'Google My Business optimization'
                ],
                8: [
                    'Month 2 comprehensive review',
                    'Course-correct if behind target',
                    'Celebrate successes with team',
                    'Refine targeting personas',
                    'Prepare Month 3 strategy',
                    'Financial aid consultations offered'
                ],
                9: [
                    'Advanced audience segmentation',
                    'Personalized video messages to hot leads',
                    'Fourth Open House',
                    'Community event #3',
                    'Launch LinkedIn parent targeting',
                    'Introduce payment plan options'
                ],
                10: [
                    'Focus on student retention programs',
                    'Parent satisfaction surveys',
                    'Enhanced student support initiatives',
                    'Teacher engagement activities',
                    'Continue aggressive new admissions',
                    'Optimize application process speed'
                ],
                11: [
                    'Competitive comparison campaigns',
                    'Limited time bonuses (free uniform)',
                    'Fifth Open House',
                    'Referral campaign boost',
                    'Testimonial showcase week',
                    'Direct mail to target neighborhoods'
                ],
                12: [
                    'Month 3 review and analysis',
                    'Final month strategy finalization',
                    'Team motivation and incentives',
                    'Backup plan activation if needed',
                    'VIP parent events',
                    'Scholarship announcements'
                ],
                13: [
                    'Final push begins - all channels active',
                    'Create urgency messaging',
                    'Sixth Open House',
                    'Re-contact all past inquiries',
                    'Flash sale on registration',
                    'Daily social media contests'
                ],
                14: [
                    'Maximize every channel simultaneously',
                    'Personal calls to all fence-sitters',
                    'Seventh Open House',
                    'Emergency weekend admission camp',
                    'Extend deadlines strategically',
                    'Increase referral bonus to ‚Çπ8K'
                ],
                15: [
                    'Last call campaigns across all channels',
                    '"Final spots available" messaging',
                    'One-on-one parent meetings',
                    'Special weekend consultations',
                    'Close all warm and lukewarm leads',
                    'Prepare final admissions paperwork'
                ],
                16: [
                    'Final week intensive closings',
                    'Process all pending applications',
                    'Conduct exit interviews on losses',
                    'Celebrate achievement with team',
                    'Plan retention strategy for new admits',
                    'Document lessons learned for next cycle'
                ]
            };
            return activities[week] || ['Continue systematic execution', 'Monitor metrics daily', 'Adjust tactics as needed'];
        }

        function getMonthTitle(month) {
            const titles = {
                1: 'Launch & Foundation',
                2: 'Acceleration & Scale',
                3: 'Optimization & Partnerships',
                4: 'Final Push & Close'
            };
            return titles[month] || `Month ${month}`;
        }

        function getMonthlyDescription(month) {
            const descriptions = {
                1: 'Emergency launch of all channels, database reactivation, digital ads, referral program, first open houses. Goal: Build momentum fast.',
                2: 'Scale successful tactics, activate partnerships, expand reach, optimize conversion process. Goal: Hit stride with consistent weekly results.',
                3: 'Refine targeting, introduce competitive advantages, expand community presence, focus on quality. Goal: Maintain pace with higher conversions.',
                4: 'Final aggressive push, maximize all channels, create urgency, close all leads. Goal: Hit or exceed targets with strong finish.'
            };
            return descriptions[month] || 'Continue execution and optimization';
        }
    </script>
</body>
</html>
